<h3>Diff API: 文本差异比较</h3>
<p>使用 <a href="https://www.npmjs.com/package/diff" target="_blank" rel="noopener noreferrer">diff</a> 库比较两段文本并高亮显示差异，支持多种比较方式和输出格式。</p>

<h4>1. 文本差异比较</h4>
<p><strong>端点:</strong> <code>POST /diff/compare</code></p>
<p>接收两段文本、差异类型和输出格式，返回格式化的差异结果。</p>
<p><strong>请求体 (JSON):</strong></p>
<div class="code-block">
    <div class="title">JSON</div>
    <pre><code>{
  "text1": "This is the first text.",
  "text2": "This is the second text, with changes.",
  "type": "words", <span class="comment">// 可选，差异类型</span>
  "outputFormat": "json_array" <span class="comment">// 可选，输出格式</span>
}</code></pre>
</div>

<h4>支持的参数</h4>
<p><strong>type</strong> (可选，默认: "lines"):</p>
<ul>
<li><code>"chars"</code> - 按字符比较</li>
<li><code>"words"</code> - 按单词比较</li>
<li><code>"wordsWithSpace"</code> - 按单词比较（保留空格）</li>
<li><code>"lines"</code> - 按行比较</li>
<li><code>"trimmedLines"</code> - 按行比较（去除空白）</li>
<li><code>"sentences"</code> - 按句子比较</li>
<li><code>"css"</code> - CSS 代码比较</li>
<li><code>"json"</code> - JSON 对象比较</li>
</ul>

<p><strong>outputFormat</strong> (可选，默认: "json_array"):</p>
<ul>
<li><code>"json_array"</code> - 返回差异对象数组</li>
<li><code>"html"</code> - 返回 HTML 格式的可视化差异</li>
<li><code>"patch"</code> - 返回统一差异格式（patch）</li>
</ul>

<h4>响应示例</h4>
<p><strong>默认格式 (json_array):</strong></p>
<div class="code-block">
    <div class="title">JSON</div>
    <pre><code>{
  "diff": [
    { "value": "This is the ", "added": false, "removed": false },
    { "value": "first", "added": false, "removed": true },
    { "value": "second", "added": true, "removed": false },
    { "value": " text", "added": false, "removed": false },
    { "value": ", with changes", "added": true, "removed": false },
    { "value": ".", "added": false, "removed": false }
  ],
  "format": "json_array"
}</code></pre>
</div>

<p><strong>HTML 格式 (outputFormat: "html"):</strong></p>
<div class="code-block">
    <div class="title">JSON</div>
    <pre><code>{
  "diff": "&lt;pre style=\"font-family: monospace; white-space: pre-wrap;\"&gt;&lt;span style=\"color: #586069;\"&gt;This is the &lt;/span&gt;&lt;span style=\"background-color: #ffeef0; color: #b31d28; text-decoration: line-through;\"&gt;first&lt;/span&gt;&lt;span style=\"background-color: #e6ffed; color: #22863a; font-weight: bold;\"&gt;second&lt;/span&gt;&lt;span style=\"color: #586069;\"&gt; text&lt;/span&gt;&lt;span style=\"background-color: #e6ffed; color: #22863a; font-weight: bold;\"&gt;, with changes&lt;/span&gt;&lt;span style=\"color: #586069;\"&gt;.&lt;/span&gt;&lt;/pre&gt;",
  "format": "html"
}</code></pre>
</div>

<p><strong>Patch 格式 (outputFormat: "patch"):</strong></p>
<div class="code-block">
    <div class="title">JSON</div>
    <pre><code>{
  "diff": "--- file\n+++ file\n@@ -1 +1 @@\n-This is the first text.\n+This is the second text, with changes.",
  "format": "patch"
}</code></pre>
</div>
<p>此 API 适用于需要文本比较和可视化差异的场景。</p>
